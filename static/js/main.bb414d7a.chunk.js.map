{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","getClassLink","App","getMovies","fetch","then","response","console","log","json","data","movies","results","updateMovies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb414d7a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n    constructor() {\r\n        super()\r\n          this.state = {\r\n            willWatch: false\r\n          };\r\n      }\r\n\r\n    render () {\r\n        const {movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch} = this.props;\r\n    return (\r\n    <div className = \"card\">\r\n        <img\r\n            className = \"card-img-top\"\r\n            src = {`https://image.tmdb.org/t/p/w500${movie.backdrop_path||movie.poster_path}`}\r\n            alt = \"\"\r\n        />\r\n        <div className = \"card-body\">\r\n            <h6 className = \"card-tittle\">{movie.title}</h6>\r\n            <div className = \"d-flex justify-content-between align-items-center\">\r\n                <p className = \"mb-0\">Rating: {movie.vote_average}</p>\r\n                {this.state.willWatch === true ? (\r\n                     // Кнопка \"Удалить  с избранного\"\r\n                    <button\r\n                        type = \"button\"\r\n                        className = \"btn btn-success\"\r\n                        onClick = {() => {\r\n                            this.setState({\r\n                                willWatch: false\r\n                            });\r\n                            removeMovieFromWillWatch(movie);\r\n                        }}>\r\n                        Remove Will Watch\r\n                    </button>\r\n                ) : (\r\n\r\n                <button\r\n                    // Кнопка \"Добавить в избранное\"\r\n                    type = \"button\"\r\n                    className = \"btn btn-secondary\"\r\n                    onClick = {() => {\r\n                        this.setState({\r\n                            willWatch: true\r\n                        });\r\n                        addMovieToWillWatch(movie);\r\n                    }}\r\n                >\r\n                    Add Will Watch\r\n                </button>\r\n                )\r\n                }\r\n            </div>\r\n            <button\r\n             // Кнопка \"Удалить фильм\"\r\n                onClick = {removeMovie.bind(this, movie)}>\r\n                    Delete movie\r\n            </button>\r\n        </div>\r\n    </div>\r\n    );\r\n    }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sort_by, updateSortBy } = props;\r\n  const handleClick = (value) => () => {\r\n    updateSortBy(value);\r\n  };\r\n  const getClassLink = (value) => {\r\n    return `nav-link ${sort_by === value ? \"active\" : \" \"}`;\r\n  };\r\n\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassLink(\"popularity.desc\")}\r\n          onClick={handleClick(\"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassLink(\"revenue.desc\")}\r\n          onClick={handleClick(\"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getClassLink(\"vote_average.desc\")}\r\n          onClick={handleClick(\"vote_average.desc\")}\r\n        >\r\n          Vote average desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\n// import moviesData from \"./moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport \"./App.css\";\n\n// UI = fn(statem props)\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sort_by !== this.state.sort_by) {\n      this.getMovies();\n    }\n  }\n\n  getMovies = () => {\n    fetch(\n      `https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&sort_by=${this.state.sort_by}`\n    )\n      .then((response) => {\n        console.log(\"then\");\n        return response.json();\n      })\n      .then((data) => {\n        console.log(\"data\", data);\n        this.setState({\n          movies: data.results,\n        });\n      });\n  };\n\n  // функция \"Удалить фильм\"\n  removeMovie = (movie) => {\n    const updateMovies = this.state.movies.filter(function (item) {\n      return item.id !== movie.id;\n    });\n    console.log(updateMovies);\n    this.setState({\n      movies: updateMovies,\n    });\n  };\n  // функция \"Добавить в избранное\"\n  addMovieToWillWatch = (movie) => {\n    console.log(movie);\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch,\n    });\n  };\n  // функция \"Удалить из избранного\"\n  removeMovieFromWillWatch = (movie) => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function (\n      item\n    ) {\n      return item.id !== movie.id;\n    });\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch,\n    });\n  };\n\n  updateSortBy = (value) => {\n    this.setState({\n      sort_by: value,\n    });\n  };\n\n  render() {\n    console.log(this);\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-9\">\n            <div className=\"row\">\n              <MovieTabs\n                sort_by={this.state.sort_by}\n                updateSortBy={this.updateSortBy}\n              />\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"col-3\">\n              <p>Will Watch: {this.state.moviesWillWatch.length}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.jsx';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />,document.getElementById('root'));\n"],"sourceRoot":""}